<script lang="ts">
	// imports
	import { ui } from '$lib/ui.config.js';
	import type { Size } from '$lib/types/index.js';
	import { twJoin, twMerge } from 'tailwind-merge';

	// props
	export let value: string = '';
	export let size: Size = ui.size;
	let classProp: string | undefined = '';
	export { classProp as class };

	// config
	const css = {
		base: 'inline-flex items-center justify-center text-gray-900 dark:text-white',
		padding: 'px-1',
		size: {
			xs: 'h-4 min-w-[16px] text-[10px]',
			sm: 'h-5 min-w-[20px] text-[11px]',
			md: 'h-6 min-w-[24px] text-[12px]',
			lg: 'h-6 min-w-[24px] text-[12px]',
			xl: 'h-6 min-w-[24px] text-[12px]'
		},
		rounded: 'rounded',
		font: 'font-medium font-sans',
		background: 'bg-gray-100 dark:bg-gray-800',
		ring: 'ring-1 ring-gray-300 dark:ring-gray-700 ring-inset',
		default: {
			size: 'sm'
		}
	};
	// reactive
	$: kbdCSS = twMerge(
		twJoin(css.base, css.size[size], css.padding, css.rounded, css.font, css.background, css.ring),
		classProp
	);
</script>

<kbd class={kbdCSS} {...$$restProps}>
	<slot>{value}</slot>
</kbd>
